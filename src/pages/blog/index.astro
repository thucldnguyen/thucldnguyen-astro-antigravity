---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import BaseHead from "../../components/BaseHead.astro";
import Footer from "../../components/Footer.astro";
import FormattedDate from "../../components/FormattedDate.astro";
import Header from "../../components/Header.astro";
import PostCard from "../../components/PostCard.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../../consts";

const posts = (await getCollection("blog")).sort(
	(a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);
---

<!doctype html>
<html lang="en" class="no-js">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body
		class="bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors duration-300"
	>
		<Header />
		<main class="w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
			<section>
				<div class="mb-12 text-center">
					<h1
						class="text-4xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-5xl mb-4"
					>
						Latest Insights
					</h1>
					<p class="text-lg text-slate-600 dark:text-slate-400">
						Thoughts on product management, AI, and test automation.
					</p>
				</div>
				<ul
					class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
				>
					{
						posts.map((post) => (
							<li>
								<PostCard post={post} />
							</li>
						))
					}
				</ul>
			</section>
		</main>
		<Footer />
	</body>
</html>
